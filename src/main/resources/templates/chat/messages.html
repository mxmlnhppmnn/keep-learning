<!DOCTYPE html>
<html lang="de"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout}">

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>

<main layout:fragment="content">

    <div class="chat-box">
        <div th:each="msg : ${messages}"
            th:classappend="${msg.sender.id == #authentication.principal.id}
                ? 'text-end' : 'text-start'">

            <span class="badge bg-secondary"
                th:text="${msg.sender.name}"></span>
            <p th:text="${msg.content}"></p>
        </div>
    </div>

    <form method="post">
        <input name="content" class="form-control" required>
        <button class="btn btn-primary mt-2" th:text="${@t.t('Senden')}"></button>
    </form>

</main>

</html>