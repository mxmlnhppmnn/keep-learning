<!DOCTYPE html>
<html lang="de"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout}">

<body>
<main layout:fragment="content">

    <h1 th:text="${anzeige.titel}" class="mb-3"></h1>

    <img th:if="${anzeige.bildpfad != null}"
         th:src="@{/images/{file}(file=${anzeige.bildpfad})}"
         class="img-fluid mb-3 rounded halb-bild"
         alt="Bild zur Anzeige">


    <p>
        <strong>Fach:</strong>
        <span th:text="${anzeige.fach}"></span>
    </p>

    <p>
        <strong>Schulart:</strong>
        <span th:text="${anzeige.schulart}"></span>
    </p>

    <p>
        <strong>Preis:</strong>
        <span th:text="${anzeige.preis}"></span> €/h
    </p>

    <hr>

    <p th:text="${anzeige.beschreibung}"></p>

    <div class="d-flex gap-2">

        <!-- Bearbeiten nur für Ersteller -->
        <a th:if="${istErsteller}"
           th:href="@{'/anzeigen/bearbeiten/' + ${anzeige.anzeigeId}}"
           class="btn btn-warning">
            Bearbeiten
        </a>

        <!-- Buchen nur für Schüler -->
        <!--<a th:if="${user.rolle == 'SCHUELER'}"-->
        <!--<a th:if="${!istErsteller}"-->
        <a
           th:href="@{/anzeigen/{id}/buchen(id=${anzeige.anzeigeId})}"
           class="btn btn-primary">
            Buchen
        </a>

        <!-- Zurück immer sichtbar, inline daneben -->
        <a th:href="@{/anzeigen}"
           class="btn btn-secondary">
            Zurück zur Übersicht
        </a>

    </div>
</main>
</body>
</html>
