<!DOCTYPE html>
<html lang="de"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout}">

<body>
<main layout:fragment="content">

    <h1 th:text="${advertisement.title}" class="mb-3"></h1>

    <img th:if="${advertisement.imagePath != null}"
         th:src="@{/images/{file}(file=${advertisement.imagePath})}"
         class="img-fluid mb-3 rounded halb-bild"
         alt="Bild zur Anzeige">

    <p>
        <strong>Fach:</strong>
        <span th:text="${advertisement.subject.name}"></span>
    </p>

    <p>
        <strong>Schulart:</strong>
        <span th:text="${advertisement.schoolType.name}"></span>
    </p>

    <p>
        <strong>Preis:</strong>
        <span th:text="${advertisement.price}"></span> €/h
    </p>

    <hr>

    <p th:text="${advertisement.description}"></p>

    <div class="d-flex gap-2">

        <!-- Bearbeiten nur für Ersteller -->
        <a th:if="${istErsteller}"
           th:href="@{'/anzeigen/bearbeiten/' + ${advertisement.id}}"
           class="btn btn-warning">
            Bearbeiten
        </a>

        <!-- Buchen -->
        <a sec:authorize="hasRole('STUDENT')" th:href="@{/anzeigen/{id}/buchen(id=${advertisement.id})}"
           class="btn btn-primary">
            Buchen
        </a>

        <!-- Zurück -->
        <a th:href="@{/anzeigen}"
           class="btn btn-secondary">
            Zurück zur Übersicht
        </a>

    </div>
</main>
</body>
</html>
